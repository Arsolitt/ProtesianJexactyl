(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{350:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n(10),r=n(12),i=n(5),s=n(39),l=n(18),c=n(0),d=n.n(c),m=n(6),u=n(23),p=n(183),g=n(27);t.default=()=>{const[e,t]=Object(c.useState)(!1),[n,a]=Object(c.useState)(!1),m=i.a.useStoreState((e=>e.server.data.uuid)),u=i.a.useStoreState((e=>e.status.value)),{clearFlashes:_,clearAndAddHttpError:w}=Object(r.a)(),{connected:j,instance:O}=i.a.useStoreState((e=>e.socket));Object(c.useEffect)((()=>{if(!j||!O||"running"===u)return;const e=["(gsl token expired)","(account not found)"],n=n=>{e.some((e=>n.toLowerCase().includes(e)))&&t(!0)};return O.addListener(g.a.CONSOLE_OUTPUT,n),()=>{O.removeListener(g.a.CONSOLE_OUTPUT,n)}}),[j,O,u]);return Object(c.useEffect)((()=>{_("feature:gslToken")}),[]),d.a.createElement(o.c,{onSubmit:e=>{a(!0),_("feature:gslToken"),Object(p.a)(m,"STEAM_ACC",e.gslToken).then((()=>{O&&O.send(g.b.SET_STATE,"restart"),a(!1),t(!1)})).catch((e=>{console.error(e),w({key:"feature:gslToken",error:e})})).then((()=>a(!1)))},initialValues:{gslToken:""}},d.a.createElement(s.b,{visible:e,onDismissed:()=>t(!1),closeOnBackground:!1,showSpinnerOverlay:n},d.a.createElement(S,{key:"feature:gslToken"}),d.a.createElement(o.b,null,d.a.createElement(T,null,"Invalid GSL token!"),d.a.createElement(k,null,"It seems like your Gameserver Login Token (GSL token) is invalid or has expired."),d.a.createElement(f,null,"You can either generate a new one and enter it below or leave the field blank to remove it completely."),d.a.createElement(y,null,d.a.createElement(l.a,{name:"gslToken",label:"GSL Token",description:"Visit https://steamcommunity.com/dev/managegameservers to generate a token.",autoFocus:!0})),d.a.createElement(b,null,d.a.createElement(h,{type:"submit"},"Update GSL Token")))))};var S=Object(a.c)(u.a).withConfig({displayName:"GSLTokenModalFeature___StyledFlashMessageRender",componentId:"sc-1nsj6d7-0"})({marginBottom:"1rem"}),T=Object(a.c)("h2").withConfig({displayName:"GSLTokenModalFeature___StyledH",componentId:"sc-1nsj6d7-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgba(244, 244, 245, var(--tw-text-opacity))"}),k=Object(a.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP",componentId:"sc-1nsj6d7-2"})({marginTop:"1rem"}),f=Object(a.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP2",componentId:"sc-1nsj6d7-3"})({marginTop:"1rem"}),y=Object(a.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv",componentId:"sc-1nsj6d7-4"})({alignItems:"center",marginTop:"1rem","@media (min-width: 640px)":{display:"flex"}}),b=Object(a.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv2",componentId:"sc-1nsj6d7-5"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),h=Object(a.c)(m.a).withConfig({displayName:"GSLTokenModalFeature___StyledButton",componentId:"sc-1nsj6d7-6"})({marginTop:"1rem",width:"100%","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"1rem",width:"auto"}})}}]);